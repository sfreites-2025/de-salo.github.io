<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Vela Virtual con Control y Navegación</title>
<style>
  body {
    margin: 0; padding: 0;
    height: 100vh;
    background: linear-gradient(-45deg, #f9cedb, #a3e0f7, #d3c9fc, #fae6b1);
    background-size: 400% 400%;
    animation: gradientBG 16s ease-in-out infinite;
    font-family: 'Times New Roman', serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 40px;
  }
  @keyframes gradientBG {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
  }

  /* Vela virtual */
  .candle-container {
    position: relative;
    width: 120px;
    height: 240px;
  }
  .candle {
    position: relative;
    width: 80px;
    height: 160px;
    margin: 0 auto;
    border-radius: 40px / 100px;
    background: linear-gradient(orange, darkorange, sienna, saddlebrown 50%, rgba(0,0,0,0.6));
    box-shadow:
      inset 20px -30px 50px rgba(0,0,0,0.4),
      inset -20px 0 50px rgba(0,0,0,0.4);
  }
  .candle::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 40px;
    top: -20px;
    border: 6px solid darkorange;
    border-radius: 50%;
    background: radial-gradient(#444, orange, saddlebrown, sienna, darkorange);
    filter: opacity(0.75);
    box-sizing: border-box;
  }
  .thread {
    position: absolute;
    width: 8px;
    height: 48px;
    top: -36px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(#111, black, orange 90%);
    border-radius: 50% 50% 0 0;
    z-index: 2;
  }
  .flames {
    position: absolute;
    width: 40px;
    height: 80px;
    top: -80px;
    left: 50%;
    transform: translateX(-50%);
    pointer-events: none;
    z-index: 3;
  }
  .flames::before {
    content: '';
    position: absolute;
    width: 100%;
    height: 80px;
    top: 0;
    border-radius: 50% 50% 35% 35%;
    background-color: orange;
    border: 4px solid orangered;
    filter: opacity(0.7) drop-shadow(0 0 10px orangered);
    animation: flameMove 3s ease-in-out infinite, flameFlicker 3s ease-in-out infinite;
  }
  .flames::after {
    content: '';
    position: absolute;
    width: 28px;
    height: 60px;
    top: 8px;
    left: 6px;
    border-radius: 50% 50% 20% 20%;
    background: linear-gradient(white 60%, transparent);
    box-shadow: 0 -10px 16px darkorange;
    animation: flameMove 3s ease-in-out infinite, flameFlicker 3s ease-in-out infinite;
  }
  @keyframes flameMove {
    0%, 100% { transform: rotate(3deg); }
    50% { transform: rotate(-3deg); }
  }
  @keyframes flameFlicker {
    0%, 100% { height: 60px; top: 8px; opacity: 1; }
    50% { height: 65px; top: 6px; opacity: 0.9; }
  }
  .glow {
    position: absolute;
    width: 400px;
    height: 400px;
    background-color: orangered;
    border-radius: 50%;
    top: -150px;
    left: -180px;
    filter: blur(100px);
    animation: blink 100ms infinite;
    z-index: 1;
  }
  @keyframes blink {
    to { filter: blur(100px) opacity(0.8); }
  }
  /* Ocultar vela cuando esta apagada */
  .hidden {
    display: none;
  }
  /* Botones navegación */
  #btns-nav {
    display: flex;
    gap: 30px;
  }
  button {
    background: linear-gradient(110deg, #7ae0ea 12%, #fd558e 88%);
    color: #6d1472;
    border: none;
    border-radius: 12px;
    padding: 14px 38px;
    font-family: 'Times New Roman', serif;
    font-weight: 700;
    font-size: 1.15em;
    box-shadow: 0 2px 18px #5ff5fc42;
    letter-spacing: 0.03em;
    cursor: pointer;
    transition: background 0.25s, color 0.22s, box-shadow 0.22s;
    outline: none;
  }
  button:hover {
    background: linear-gradient(112deg, #fd558e, #7ae0ea 86%);
    color: #ea20b8;
    box-shadow: 0 8px 30px #ff5ea4cc;
  }
  /* Toggle switch */
  .switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 34px;
    vertical-align: middle;
  }
  .switch input {
    opacity: 0;
    width: 0; height: 0;
  }
  .slider {
    position: absolute;
    cursor: pointer;
    inset: 0;
    background-color: #ccc;
    border-radius: 34px;
    transition: 0.4s;
  }
  .slider:before {
    content: "";
    position: absolute;
    height: 26px; width: 26px;
    left: 4px; bottom: 4px;
    background-color: white;
    border-radius: 50%;
    transition: 0.4s;
  }
  input:checked + .slider {
    background-color: #7ae0ea;
  }
  input:checked + .slider:before {
    transform: translateX(26px);
  }
  label.toggle-label {
    font-family: 'Times New Roman', serif;
    font-size: 1.2em;
    margin-right: 12px;
    cursor: pointer;
    user-select: none;
    vertical-align: middle;
  }
  .toggle-container {
    display: flex;
    align-items: center;
    gap: 10px;
    justify-content: center;
  }
</style>
</head>
<body>

  <div class="toggle-container">
    <label for="toggleVela" class="toggle-label">Encender Vela Virtual</label>
    <label class="switch">
      <input type="checkbox" id="toggleVela" aria-checked="false" aria-label="Encender o apagar vela virtual">
      <span class="slider"></span>
    </label>
  </div>

  <div class="candle-container hidden" id="vela" aria-live="polite" aria-atomic="true" role="img" aria-label="Vela animada encendida">
    <div class="candle">
      <span class="glow"></span>
      <div class="thread"></div>
      <div class="flames"></div>
    </div>
  </div>

  <div id="btns-nav">
    <button id="btnRegresar">Regresar</button>
    <button id="btnSiguiente">Siguiente →</button>
  </div>

<script>
  const toggleVela = document.getElementById('toggleVela');
  const vela = document.getElementById('vela');
  const btnRegresar = document.getElementById('btnRegresar');
  const btnSiguiente = document.getElementById('btnSiguiente');

  toggleVela.addEventListener('change', () => {
    if (toggleVela.checked) {
      vela.classList.remove('hidden');
      toggleVela.setAttribute('aria-checked', 'true');
    } else {
      vela.classList.add('hidden');
      toggleVela.setAttribute('aria-checked', 'false');
    }
  });

  btnRegresar.addEventListener('click', () => {
    window.history.back();
  });
  btnSiguiente.addEventListener('click', () => {
    window.location.href = 'index11.html';
  });
</script>

</body>
</html>
