<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Un último jueguito: Quiz del Amor</title>
<style>
  body {
    margin: 0; padding: 0;
    font-family: 'Georgia', serif;
    background: linear-gradient(135deg, #fce4ec 0%, #f48fb1 100%);
    color: #6b2a40;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
  }
  .center-box {
    background: rgba(255 255 255 / 0.92);
    border-radius: 22px;
    box-shadow: 0 12px 36px rgba(219, 90, 128, 0.29);
    padding: 38px 36px 36px;
    max-width: 700px;
    width: 90vw;
    box-sizing: border-box;
    text-align: center;
    animation: fadeInUp 1.5s ease;
    position: relative;
  }
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(30px);}
    to { opacity: 1; transform: translateY(0);}
  }
  h1 {
    margin-bottom: 24px;
    font-weight: 700;
    font-size: 1.7rem;
    color: #c32e70;
  }
  .question {
    font-size: 1.18rem;
    margin: 26px 0 16px 0;
    font-weight: 600;
    color: #c03254;
    min-height: 1.3em;
  }
  .options {
    display: flex;
    flex-direction: column;
    gap: 12px;
    align-items: center;
    margin-bottom: 18px;
  }
  .option-btn {
    padding: 12px 26px;
    border-radius: 22px;
    border: none;
    background: linear-gradient(90deg, #fa7ea1, #f88dae);
    color: #fff;
    font-size: 1.06rem;
    font-family: inherit;
    cursor: pointer;
    margin-bottom: 4px;
    min-width: 200px;
    transition: background 0.25s;
    box-shadow: 0 3px 10px #ffa0ba33;
  }
  .option-btn.selected, .option-btn:hover {
    background: linear-gradient(90deg, #d43d6b, #f1669e);
    color: #fffbea;
  }
  #nextBtn, #restartBtn {
    margin: 26px 8px 0 8px;
    padding: 12px 32px;
    border-radius: 28px;
    background: linear-gradient(90deg, #d43d6b, #f1669e);
    color: #fff;
    border: none;
    font-size: 1.1rem;
    font-family: inherit;
    cursor: pointer;
    box-shadow: 0 2px 8px #ec407a35;
    transition: background 0.2s;
    display: inline-block;
    min-width: 150px;
  }
  #nextBtn:disabled {
    background: #f3c0c9;
    color: #fff;
    cursor: not-allowed;
    opacity: 0.7;
    box-shadow: none;
  }
  #restartBtn {
    background: linear-gradient(90deg, #f483a7, #e468a3);
    margin-left: 0;
  }
  #feedback {
    font-size: 1.05rem;
    color: #7b255f;
    min-height: 32px;
    margin: 15px 0 10px 0;
  }
  #final-message {
    font-size: 1.19rem;
    color: #a31545;
    font-weight: 500;
    margin-top: 25px;
    margin-bottom: 17px;
    min-height: 1.3em;
  }
  #poem-message {
    display: none;
    margin-top: 34px;
    background: #fde6ef;
    padding: 22px 20px;
    border-radius: 20px;
    color: #7b2a3a;
    font-size: 1.18rem;
    font-style: italic;
    font-weight: 600;
    box-shadow: 0 6px 18px #fdaaea19;
  }
  @media(max-width:600px){
    .center-box{padding:22px 8vw 16px;}
    .option-btn, #nextBtn, #restartBtn { min-width: 90vw; }
  }
</style>
</head>
<body>
  <div class="center-box">
    <h1 id="title-msg">Pero antes un último jueguito</h1>
    <div id="quiz-section">
      <div class="question" id="question"></div>
      <div class="options" id="options"></div>
      <div id="feedback"></div>
      <button id="nextBtn" disabled>Siguiente</button>
    </div>
    <div id="result-section" style="display:none;">
      <div id="final-message"></div>
      <button id="restartBtn">Jugar otra vez</button>
      <button id="poemNextBtn">Siguiente</button>
      <div id="poem-message">
        El arte es estupenda, de muchos colores o de tonos grises, blanco, oscuros u opacos, siempre serás mi pintura favorita, el arte que pude apreciar de una gran maravilla.
      </div>
    </div>
  </div>
<script>
const questions = [
  {
    q: "¿Cuál es el mejor plan de amor espontáneo?",
    opts: [
      "Un picnic inesperado con flores y postre",
      "Un mensaje lindo y sincero a medianoche",
      "Ver juntos el atardecer, hablando bajito",
      "Hacer un playlist de canciones dedicadas"
    ],
    a: null
  },
  {
    q: "¿Quién toma la iniciativa para un abrazo largo?",
    opts: [
      "Yo, sin pensarlo, siempre quiero abrazar",
      "Ella, con una sonrisa que lo dice todo",
      "A veces uno, a veces el otro, depende del día",
      "Ambos al mismo tiempo: conexión total"
    ],
    a: null
  },
  {
    q: "¿Cuál frase te parece más acertada sobre el amor?",
    opts: [
      "El amor se demuestra en detalles, no palabras",
      "Amar es apoyarse incluso en los días grises",
      "Cada quien ama a su modo, y eso lo hace especial",
      "El arte de amar es no rendirse nunca"
    ],
    a: null
  },
  {
    q: "¿Qué color sientes que representa tu amor?",
    opts: [
      "Rosado cálido", "Azul profundo", "Amarillo alegre", "Multicolor, ¡imposible escoger!"
    ],
    a: null
  },
  {
    q: "Si tu amor fuera una estación del año, sería...",
    opts: [
      "Primavera 🌷", "Verano ☀️", "Otoño 🍁", "Invierno ⛄"
    ],
    a: null
  }
];
let quizPos = 0;
let totalAnswered = 0;
let userAnswers = [];

const questionEl = document.getElementById('question');
const optionsEl = document.getElementById('options');
const nextBtn = document.getElementById('nextBtn');
const feedback = document.getElementById('feedback');
const quizSection = document.getElementById('quiz-section');
const resultSection = document.getElementById('result-section');
const finalMsg = document.getElementById('final-message');
const restartBtn = document.getElementById('restartBtn');
const poemNextBtn = document.getElementById('poemNextBtn');
const poemMessage = document.getElementById('poem-message');

// Inicialización
loadQuestion();

function loadQuestion() {
  feedback.textContent = '';
  nextBtn.disabled = true;
  questionEl.textContent = questions[quizPos].q;
  optionsEl.innerHTML = '';
  questions[quizPos].opts.forEach((opt, i) => {
    const btn = document.createElement('button');
    btn.className = 'option-btn';
    btn.textContent = opt;
    btn.onclick = () => selectAnswer(i, btn);
    optionsEl.appendChild(btn);
  });
}

function selectAnswer(idx, btn) {
  // Desmarcar previas
  optionsEl.querySelectorAll('.option-btn').forEach(b => {
    b.classList.remove('selected');
  });
  btn.classList.add('selected');
  userAnswers[quizPos] = questions[quizPos].opts[idx];
  nextBtn.disabled = false;
  feedback.textContent = "¡Respuesta guardada!";
}

nextBtn.onclick = function() {
  quizPos++;
  if (quizPos < questions.length) {
    loadQuestion();
  } else {
    showResults();
  }
};

function showResults() {
  quizSection.style.display = 'none';
  resultSection.style.display = 'block';

  let colorResponse = userAnswers[3] || "";
  let arteColor = "";
  if(colorResponse.includes("Rosado")) arteColor = "rosado cálido";
  else if(colorResponse.includes("Azul")) arteColor = "azul profundo";
  else if(colorResponse.includes("Amarillo")) arteColor = "amarillo vital";
  else if(colorResponse.includes("Multi")) arteColor = "¡todos los colores!";
  else arteColor = "color único";

  finalMsg.innerHTML = `
    <b>¡Completaste el quiz!</b><br>
    <span style="color:#ff7c9b">Tus respuestas pintan una historia tan<br>
    colorida y genuina como el arte verdadero.</span><br><br>
    Si tu amor fuera un color sería <b>${arteColor}</b> y si fuera una estación, sería <b>${userAnswers[4]||"única"}</b>.
  `;
  poemMessage.style.display = 'none';
};

restartBtn.onclick = () => {
  quizPos = 0;
  userAnswers = [];
  quizSection.style.display = 'block';
  resultSection.style.display = 'none';
  loadQuestion();
};

poemNextBtn.onclick = () => {
  poemMessage.style.display = 'block';
  poemNextBtn.style.display = "none";
  setTimeout(() => {
    window.location.href = "index17.html";
  }, 7000);
};

finalMsg.onclick = () => {
  poemNextBtn.focus();
};
</script>
</body>
</html>
